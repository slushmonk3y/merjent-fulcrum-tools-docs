<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
		<title>MLoadRecords</title>
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
		<link type="text/css" rel="stylesheet" href="css/prism.min.css">
		<link type="text/css" rel="stylesheet" href="css/template.min.css">
		<script type="text/javascript">
			window.TEMPLATE_OPTIONS = {"includeDate":true,"dateFormat":"Do MMM YYYY","systemName":"Merjent Fulcrum Tools","systemSummary":"Version 0.5.7","systemLogo":"","systemColor":"","navMembers":[{"kind":"module","title":"Modules","summary":"All documented modules."},{"kind":"class","title":"Classes","summary":"All documented classes. View inheritance chains in each class description."},{"kind":"external","title":"Externals","summary":"All documented external members."},{"kind":"global","title":"Globals","summary":"All documented globals."},{"kind":"mixin","title":"Mixins","summary":"All documented mixins."},{"kind":"interface","title":"Interfaces","summary":"All documented interfaces."},{"kind":"namespace","title":"Namespaces","summary":"All documented namespaces."},{"kind":"tutorial","title":"Tutorials","summary":"All available tutorials."}],"footer":"","copyright":"Mtools Copyright © 2025 Mikel Paiva","linenums":true,"collapseSymbols":true,"inverseNav":true,"inlineNav":false,"outputSourceFiles":false,"sourceRootPath":null,"disablePackagePath":true,"outputSourcePath":false,"showTableOfContents":true,"showAccessFilter":true,"analytics":null,"methodHeadingReturns":true,"sort":"lineage, longname","search":true,"favicon":null,"stylesheets":[],"scripts":[],"monospaceLinks":false,"cleverLinks":true,"default":{"outputSourceFiles":false}};
			window.DOCLET_TOC_ENABLED = true;
			window.DOCLET_AFILTER_ENABLED = false;
		</script>
</head>
<body>
	<!-- start:navbar.hbs -->
	<header class="navbar navbar-default navbar-fixed-top navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html">
					Merjent Fulcrum Tools
				</a>
				<!-- displayed on small devices -->
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse" id="topNavigation">
				<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="list_class.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="DataEventHelpers.html">DataEventHelpers</a></li>
											<li><a href="FieldHelpers.html">FieldHelpers</a></li>
											<li><a href="FieldHelpers.MfldColl.html">FieldHelpers.MfldColl</a></li>
											<li><a href="FieldHelpers.MfldTypes.html">FieldHelpers.MfldTypes</a></li>
											<li><a href="FulcrumHelpers.html">FulcrumHelpers</a></li>
											<li><a href="MerjentApp.html">MerjentApp</a></li>
											<li><a href="Mfld.html">Mfld</a></li>
											<li><a href="MLoadRecords.html">MLoadRecords</a></li>
											<li><a href="PhotoDirHandler.html">PhotoDirHandler</a></li>
											<li><a href="ReportHelpers.html">ReportHelpers</a></li>
											<li><a href="ReportHelpers.SecOpt.html">ReportHelpers.SecOpt</a></li>
											<li><a href="RequestHelpers.html">RequestHelpers</a></li>
											<li><a href="Utils.html">Utils</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_module.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="module-MtoolsDataEvents.html">MtoolsDataEvents</a></li>
											<li><a href="module-MtoolsMerjentApp.html">MtoolsMerjentApp</a></li>
											<li><a href="module-MtoolsReports.html">MtoolsReports</a></li>
											<li><a href="module-MtoolsUtils.html">MtoolsUtils</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_namespace.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="DefaultTemplate.html">DefaultTemplate</a></li>
											<li><a href="LockingMixins.html">LockingMixins</a></li>
											<li><a href="PermissionMixins.html">PermissionMixins</a></li>
											<li><a href="PhotoMixins.html">PhotoMixins</a></li>
											<li><a href="StatusMixins.html">StatusMixins</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_tutorial.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="tutorial-CHANGELOG.html">CHANGELOG</a></li>
											<li><a href="tutorial-01_overview.html">01_overview</a></li>
											<li><a href="tutorial-02_5_mloadrecords.html">02_5_mloadrecords</a></li>
											<li><a href="tutorial-02_mtools.html">02_mtools</a></li>
											<li><a href="tutorial-03_mapp.html">03_mapp</a></li>
											<li><a href="tutorial-04_pdf-reports.html">04_pdf-reports</a></li>
											<li><a href="tutorial-06_merjent-dev.html">06_merjent-dev</a></li>
											<li><a href="tutorial-07_general-dev.html">07_general-dev</a></li>
									</ul>
								</li>
				</ul>
					<!-- start:lunr-search-navbar.hbs -->
					<form class="navbar-form navbar-right" role="search">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" id="lunr-search-input">
							<div class="input-group-btn">
								<button class="btn btn-default" id="lunr-search-submit">
									<i class="glyphicon glyphicon-search"></i>
								</button>
							</div>
						</div>
					</form>
					<!-- start:lunr-search-navbar.hbs -->		</div>
		</div>
	</header>
	<!-- end:navbar.hbs -->		<div class="page-header">
			<div class="container">
				<span class="kind">class</span>
				<h1><span class="name">MLoadRecords</span></h1>
				<div class="summary"><p>Loads and manages records from a linked Fulcrum form</p></div>			</div>
		</div>
	<div class="container content">
		<div class="row">
			<div class="col-md-9 main-content">
						<ol class="breadcrumb">
							<li><a href="index.html">Home</a></li>
							<li><a href="list_class.html">Classes</a></li>
							<li class="active">MLoadRecords</li>
						</ol>
					<section>
							<dl class="symbol primary">
								<dt class="symbol-title class collapsible-symbol expanded">
			<h2 class="class"><span class="signature-new">new&nbsp;</span><span class="name">MLoadRecords</span><span class="signature-params">( <span class="signature-param">formID</span> [,&nbsp;<span class="signature-param">enterLoadedData</span> [,&nbsp;<span class="signature-param">fulcrumHelpers</span>&nbsp;]&nbsp;]&nbsp;)</span><span class="signature-type"></span></h2>
		<div class="summary"><p>Loads and manages records from a linked Fulcrum form</p></div></dt>
<dd class="symbol-details class  collapsible-symbol expanded" style="max-height: 9999px;">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Handles loading form schemas and records from companion Fulcrum apps.
			Creates a dictionary to convert form_value keys to data_name keys for easier access.</p>
			<p><strong>Common use cases:</strong></p>
			<ul>
			<li>Load records from a linked app based on a record link field</li>
			<li>Refresh a record link field when records in the linked app reference this record</li>
			<li>Prevent duplicate record selection across records in this app</li>
			</ul></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
							<th>Attributes</th>
							<th>Default</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>formID</code></td>
							<td><span class="param-type">string</span></td>
								<td class="attributes"></td>
								<td></td>
							<td class="last">
									<p>Fulcrum form ID (required)</p>
							</td>
						</tr>
						<tr>
								<td><code>enterLoadedData</code></td>
							<td><span class="param-type">function</span></td>
								<td class="attributes">&lt;optional&gt;<br/></td>
								<td></td>
							<td class="last">
									<p>Callback function to process loaded records</p>
							</td>
						</tr>
						<tr>
								<td><code>fulcrumHelpers</code></td>
							<td><span class="param-type"><a href="FulcrumHelpers.html">FulcrumHelpers</a></span></td>
								<td class="attributes">&lt;optional&gt;<br/></td>
								<td></td>
							<td class="last">
									<p>Optional helper instance (creates new FulcrumHelpers if not provided)</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-info">
				<h5>Properties</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>formID</code></td>
							<td><span class="param-type">string</span></td>
							<td class="last">
									<p>Fulcrum form ID of the linked app</p>
							</td>
						</tr>
						<tr>
								<td><code>enterLoadedData</code></td>
							<td><span class="param-type">function</span> | <span class="param-type">null</span></td>
							<td class="last">
									<p>Callback to process records after loading</p>
							</td>
						</tr>
						<tr>
								<td><code>recIDs</code></td>
							<td><span class="param-type">Array.&lt;string></span> | <span class="param-type">null</span></td>
							<td class="last">
									<p>Array of record IDs to load</p>
							</td>
						</tr>
						<tr>
								<td><code>appFvs</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Dictionary mapping form_value keys to data_names</p>
							</td>
						</tr>
						<tr>
								<td><code>appRecords</code></td>
							<td><span class="param-type">Array.&lt;Object></span> | <span class="param-type">null</span></td>
							<td class="last">
									<p>Loaded records with data_name keys</p>
							</td>
						</tr>
						<tr>
								<td><code>recordsOnLoad</code></td>
							<td><span class="param-type">boolean</span></td>
							<td class="last">
									<p>If true, loads records immediately after form schema</p>
							</td>
						</tr>
						<tr>
								<td><code>sortOrder</code></td>
							<td><span class="param-type">Array.&lt;Array></span> | <span class="param-type">null</span></td>
							<td class="last">
									<p>Sort order for queries, e.g., [['report_id', 'dsc']]</p>
							</td>
						</tr>
						<tr>
								<td><code>dnRecLink</code></td>
							<td><span class="param-type">string</span></td>
							<td class="last">
									<p>Data name of record link field in this app</p>
							</td>
						</tr>
						<tr>
								<td><code>dnRecLinkIds</code></td>
							<td><span class="param-type">string</span></td>
							<td class="last">
									<p>Data name of text field storing record IDs</p>
							</td>
						</tr>
						<tr>
								<td><code>dnsRecLinkAuto</code></td>
							<td><span class="param-type">Array.&lt;string></span></td>
							<td class="last">
									<p>Data names to clear if duplicate found</p>
							</td>
						</tr>
						<tr>
								<td><code>dnRefreshRL</code></td>
							<td><span class="param-type">string</span></td>
							<td class="last">
									<p>Data name of record link field to refresh</p>
							</td>
						</tr>
						<tr>
								<td><code>addOnRefreshRL</code></td>
							<td><span class="param-type">function</span></td>
							<td class="last">
									<p>Additional callback after refreshing record link</p>
							</td>
						</tr>
						<tr>
								<td><code>duplicateAlert</code></td>
							<td><span class="param-type">function</span></td>
							<td class="last">
									<p>Function to call when duplicate detected</p>
							</td>
						</tr>
						<tr>
								<td><code>helpers</code></td>
							<td><span class="param-type"><a href="FulcrumHelpers.html">FulcrumHelpers</a></span></td>
							<td class="last">
									<p>FulcrumHelpers instance for utility methods</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-caption"><p>Basic usage - load records on change</p></div>
					<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const appID &#x3D; &#x27;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#x27;function processRecordsCallback() {  const loadedRecords &#x3D; loader.appRecords  const titleList &#x3D; loadedRecords.map(x &#x3D;&gt; x.scientific_name + &#x27; - &#x27; + x.common_name)  SETVALUE(&#x27;result&#x27;, titleList.join(&#x27;\n&#x27;))}const loader &#x3D; new MLoadRecords(appID, processRecordsCallback)loader.dnRecLink &#x3D; &#x27;species_link&#x27;ON(&#x27;load-record&#x27;, loader.buildAppFvDict)ON(&#x27;change&#x27;, &#x27;species_link&#x27;, loader.updateLoadedRecords)</code></pre>
					</div>
					<div class="example-caption"><p>Duplicate checking</p></div>
					<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const loader &#x3D; new MLoadRecords(appID, null)loader.dnRecLink &#x3D; &#x27;project_link&#x27;loader.dnRecLinkIds &#x3D; &#x27;project_id_text&#x27;loader.dnsRecLinkAuto &#x3D; [&#x27;project_name&#x27;, &#x27;project_date&#x27;]ON(&#x27;load-record&#x27;, loader.buildAppFvDict)ON(&#x27;change&#x27;, &#x27;project_link&#x27;, loader.selfDupCheck)</code></pre>
					</div>
			</div>			<div class="callout callout-danger"><h5>Throws</h5>		<form class="form-horizontal exceptions">
							<div class="form-group">
								<label class="col-sm-3 control-label exceptions-type"><span class="param-type">Error</span></label>
								<div class="col-sm-9">
									<div class="form-control-static exceptions-description"><p>If formID is not provided</p></div>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label exceptions-type"><span class="param-type">Error</span></label>
								<div class="col-sm-9">
									<div class="form-control-static exceptions-description"><p>If enterLoadedData is provided but is not a function</p></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-default"><h5>Details</h5>		<form class="form-horizontal details">
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
							<!-- see -->
							<div class="form-group">
								<label class="col-sm-3 control-label">See</label>
								<div class="col-sm-9">
										<ul class="form-control-static">
												<li><a href="FulcrumHelpers.html">FulcrumHelpers</a></li>
												<li><a href="FulcrumHelpers.html#loadRecords">FulcrumHelpers#loadRecords</a></li>
												<li><a href="FulcrumHelpers.html#fv2DnRows">FulcrumHelpers#fv2DnRows</a></li>
										</ul>
								</div>
							</div>
			
			
					</form>
			</div>	</div>
</dd>
							</dl>
							<article class="secondary">
									<h3>Members</h3>
									<dl class="symbol">
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="addOnRefreshRL" class="member public"><span class="name">addOnRefreshRL</span><span class="signature-type"> :function</span></h4>
				<div class="summary"><p>Additional callback after refreshing record link</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Override this to perform additional actions after refreshRecordLink completes.</p></div>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.addOnRefreshRL &#x3D; () &#x3D;&gt; {  SETVALUE(&#x27;child_count&#x27;, loader.appRecords.length)}</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="duplicateAlert" class="member public"><span class="name">duplicateAlert</span><span class="signature-type"> :function</span></h4>
				<div class="summary"><p>Alert function for duplicate detection</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Override this to customize the duplicate record alert message.</p></div>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.duplicateAlert &#x3D; () &#x3D;&gt; {  ALERT(&#x27;This project is already assigned to another record.&#x27;)}</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="loadForm" class="member public"><span class="name">loadForm</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Loads form schema</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Loads a Fulcrum form schema and passes it to the callback.
			Delegates to FulcrumHelpers.loadForm.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>formID</code></td>
							<td><span class="param-type">string</span></td>
							<td class="last">
									<p>Fulcrum form ID to load</p>
							</td>
						</tr>
						<tr>
								<td><code>callBack</code></td>
							<td><span class="param-type">function</span></td>
							<td class="last">
									<p>Function to receive the loaded form schema</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="loadRecords" class="member public"><span class="name">loadRecords</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Loads records with flexible parameter handling</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Wrapper for FulcrumHelpers.loadRecords with enhanced parameter handling.
			Supports flexible parameter formats for convenience in MLoadRecords context.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
							<th>Attributes</th>
							<th>Default</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>opts</code></td>
							<td><span class="param-type">Object</span> | <span class="param-type">Array.&lt;string></span> | <span class="param-type">string</span> | <span class="param-type">null</span></td>
								<td class="attributes">&lt;optional&gt;<br/></td>
								<td></td>
							<td class="last">
									<p>Can be: null (loads all), array of IDs, query object, or formID string</p>
							</td>
						</tr>
						<tr>
								<td><code>callback</code></td>
							<td><span class="param-type">function</span> | <span class="param-type">null</span></td>
								<td class="attributes">&lt;optional&gt;<br/></td>
								<td></td>
							<td class="last">
									<p>Callback function. Defaults to this.processRecords</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-caption"><p>Load by ID array</p></div>
					<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.loadRecords([&#x27;id1&#x27;, &#x27;id2&#x27;], myCallback)</code></pre>
					</div>
					<div class="example-caption"><p>Load with query object</p></div>
					<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const opts &#x3D; loader.filterTemplate(&#x27;status&#x27;, &#x27;equal_to&#x27;, &#x27;active&#x27;)loader.loadRecords(opts)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="getAppFvs" class="member public"><span class="name">getAppFvs</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Loads form schema and immediately loads records</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Use in ON('load-record') event. Sets recordsOnLoad=true,
			then loads form schema and continues to load records.
			Equivalent to setting recordsOnLoad=true and calling buildAppFvDict.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>event</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Fulcrum load-record event object</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">ON(&#x27;load-record&#x27;, loader.getAppFvs)</code></pre>
					</div>
			</div>			<div class="callout callout-default"><h5>Details</h5>		<form class="form-horizontal details">
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
							<!-- todo -->
							<div class="form-group">
								<label class="col-sm-3 control-label">To Do</label>
								<div class="col-sm-9">
										<p class="form-control-static">deprecate getAppFvs in favor of buildAppFvDict with recordsOnLoad &#x3D; true</p>
								</div>
							</div>
			
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="buildAppFvDict" class="member public"><span class="name">buildAppFvDict</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Loads form schema only (no records)</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Use in ON('load-record') event. Loads form schema to build
			the form_value to data_name dictionary, but does NOT load any records.
			Records can be loaded later via updateLoadedRecords or loadRecords.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>event</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Fulcrum load-record event object</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">ON(&#x27;load-record&#x27;, loader.buildAppFvDict)ON(&#x27;change&#x27;, &#x27;species_link&#x27;, loader.updateLoadedRecords)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="updateLoadedRecords" class="member public"><span class="name">updateLoadedRecords</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Updates loaded records from record link field</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Extracts record IDs from the configured record link field (dnRecLink)
			and loads those records. Clears auto fields if no IDs found.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>event</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Fulcrum change event object</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.dnRecLink &#x3D; &#x27;species_link&#x27;ON(&#x27;change&#x27;, &#x27;species_link&#x27;, loader.updateLoadedRecords)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="processForm" class="member public"><span class="name">processForm</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Processes loaded form schema</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Callback for loadForm. Creates the form_value to data_name dictionary (appFvs).
			If recordsOnLoad is true, continues to load records via refreshRecordLink or updateLoadedRecords.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>form</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Fulcrum form schema object</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="processRecords" class="member public"><span class="name">processRecords</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Processes loaded records</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Default callback for loadRecords. Converts form_value keys to data_name keys
			and stores in appRecords. Calls enterLoadedData callback if recordsOnLoad is true.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>records</code></td>
							<td><span class="param-type">Array.&lt;Object></span></td>
							<td class="last">
									<p>Array of raw Fulcrum record objects</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="selfDupCheck" class="member public"><span class="name">selfDupCheck</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Checks for duplicate record selection</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Prevents selecting a record that is already linked in another record of this app.
			Queries for records containing the selected record ID and clears selection if found.
			Requires dnRecLink, dnRecLinkIds, and optionally dnsRecLinkAuto to be configured.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>event</code></td>
							<td><span class="param-type">Object</span></td>
							<td class="last">
									<p>Fulcrum change event from record link field</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.dnRecLink &#x3D; &#x27;project_link&#x27;loader.dnRecLinkIds &#x3D; &#x27;project_id_text&#x27;loader.dnsRecLinkAuto &#x3D; [&#x27;project_name&#x27;, &#x27;project_date&#x27;]ON(&#x27;change&#x27;, &#x27;project_link&#x27;, loader.selfDupCheck)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="processSelfDupCheck" class="member public"><span class="name">processSelfDupCheck</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Processes duplicate check results</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Callback for selfDupCheck. If records are found that aren't the current record,
			clears the selection, auto fields, and shows the duplicate alert.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>records</code></td>
							<td><span class="param-type">Array.&lt;Object></span></td>
							<td class="last">
									<p>Array of raw Fulcrum record objects</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="processRefreshRL" class="member public"><span class="name">processRefreshRL</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Processes refresh record link results</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Callback for refreshRecordLink. Updates the record link field
			with the IDs of loaded records and calls addOnRefreshRL callback.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>records</code></td>
							<td><span class="param-type">Array.&lt;Object></span></td>
							<td class="last">
									<p>Array of raw Fulcrum record objects</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="refreshRecordLink" class="member public"><span class="name">refreshRecordLink</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Refreshes a record link field with linked records</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Queries for records in the linked app that reference the current record
			(via dnRefreshRL field containing current RECORDID), then updates the record link field.
			Requires dnRefreshRL to be configured.</p></div>
			</div>			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">loader.dnRefreshRL &#x3D; &#x27;parent_record_link&#x27;loader.dnRecLink &#x3D; &#x27;child_records&#x27;loader.sortOrder &#x3D; [[&#x27;created_at&#x27;, &#x27;dsc&#x27;]]</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title member public collapsible-symbol">
			<h4 id="clearAutoFields" class="member public"><span class="name">clearAutoFields</span><span class="signature-type"></span></h4>
				<div class="summary"><p>Clears auto-populated fields</p></div></dt>
<dd class="symbol-details member public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Clears all fields listed in dnsRecLinkAuto array.
			Called when record link is cleared or duplicate is detected.</p></div>
			</div>			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">void</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"></div>
								</div>
							</div>
					</form>
			</div>	</div>
</dd>
									</dl>
									<h3>Methods</h3>
									<dl class="symbol">
											<hr/>
											<dt class="symbol-title function public collapsible-symbol">
			<h4 id="filterEmpty" class="function public"><span class="name">filterEmpty</span><span class="signature-params">()</span><span class="signature-type"> &rarr;&nbsp;{Object}</span></h4>
				<div class="summary"><p>Creates a filter object for loading all records from a form</p></div></dt>
<dd class="symbol-details function public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Returns a query object with no predicates, which loads all records.</p></div>
			</div>			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">Object</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"><p>Empty filter object with form_id</p></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const opts &#x3D; loader.filterEmpty()loader.loadRecords(opts, myCallback)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title function public collapsible-symbol">
			<h4 id="filterId" class="function public"><span class="name">filterId</span><span class="signature-params">( <span class="signature-param">ids</span>&nbsp;)</span><span class="signature-type"> &rarr;&nbsp;{Object}</span></h4>
				<div class="summary"><p>Creates a filter object for loading records by ID array</p></div></dt>
<dd class="symbol-details function public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Returns a query object that loads specific records by their IDs.</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>ids</code></td>
							<td><span class="param-type">Array.&lt;string></span></td>
							<td class="last">
									<p>Array of Fulcrum record IDs</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">Object</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"><p>Filter object with ids and form_id</p></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const ids &#x3D; [&#x27;abc-123&#x27;, &#x27;def-456&#x27;]const opts &#x3D; loader.filterId(ids)loader.loadRecords(opts, myCallback)</code></pre>
					</div>
			</div>	</div>
</dd>
											<hr/>
											<dt class="symbol-title function public collapsible-symbol">
			<h4 id="filterTemplate" class="function public"><span class="name">filterTemplate</span><span class="signature-params">( <span class="signature-param">dn</span>, <span class="signature-param">op</span>, <span class="signature-param">val</span> [,&nbsp;<span class="signature-param">order</span>&nbsp;]&nbsp;)</span><span class="signature-type"> &rarr;&nbsp;{Object}</span></h4>
				<div class="summary"><p>Creates a filter object with a single predicate</p></div></dt>
<dd class="symbol-details function public  collapsible-symbol">
	<div class="symbol-details-inner">
			<div class="callout callout-primary"><h5>Description</h5>		<div class="description"><p>Returns a query object with a single field filter.
			Common operators: &quot;equal_to&quot;, &quot;not_equal_to&quot;, &quot;contains&quot;, &quot;starts_with&quot;, &quot;greater_than&quot;, &quot;less_than&quot;</p></div>
			</div>			<div class="callout callout-info">
				<h5>Parameters</h5>
				<table class="params table table-striped">
					<thead>
					<tr>
							<th>Name</th>
						<th>Type</th>
							<th>Attributes</th>
							<th>Default</th>
						<th class="last">Description</th>
					</tr>
					</thead>
					<tbody>
						<tr>
								<td><code>dn</code></td>
							<td><span class="param-type">string</span></td>
								<td class="attributes"></td>
								<td></td>
							<td class="last">
									<p>Data name of field to filter on</p>
							</td>
						</tr>
						<tr>
								<td><code>op</code></td>
							<td><span class="param-type">string</span></td>
								<td class="attributes"></td>
								<td></td>
							<td class="last">
									<p>LOADRECORDS operator (e.g., &quot;equal_to&quot;, &quot;contains&quot;)</p>
							</td>
						</tr>
						<tr>
								<td><code>val</code></td>
							<td><span class="param-type">string</span> | <span class="param-type">number</span> | <span class="param-type">boolean</span></td>
								<td class="attributes"></td>
								<td></td>
							<td class="last">
									<p>Value to filter by</p>
							</td>
						</tr>
						<tr>
								<td><code>order</code></td>
							<td><span class="param-type">Array.&lt;Array></span> | <span class="param-type">null</span></td>
								<td class="attributes">&lt;optional&gt;<br/></td>
								<td></td>
							<td class="last">
									<p>Optional sort order, e.g., [['date', 'dsc']]</p>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="callout callout-success"><h5>Returns</h5>		<form class="form-horizontal returns">
							<div class="form-group">
								<label class="col-sm-3 control-label returns-type"><span class="param-type">Object</span></label>
								<div class="col-sm-9">
									<div class="form-control-static returns-description"><p>Filter object for LOADRECORDS</p></div>
								</div>
							</div>
					</form>
			</div>			<div class="callout callout-example"><h5>Examples</h5>		<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const opts &#x3D; loader.filterTemplate(&#x27;status&#x27;, &#x27;equal_to&#x27;, &#x27;active&#x27;)loader.loadRecords(opts, myCallback)</code></pre>
					</div>
					<div class="example-caption"><p>With sort order</p></div>
					<div class="example-code">
						<pre class="prettyprint source language-javascript"><code class="language-javascript">const opts &#x3D; loader.filterTemplate(&#x27;project_id&#x27;, &#x27;equal_to&#x27;, &#x27;P123&#x27;, [[&#x27;created_at&#x27;, &#x27;dsc&#x27;]])</code></pre>
					</div>
			</div>	</div>
</dd>
									</dl>
							</article>
					</section>
			</div>
				<div class="col-md-3 side-content">
					<nav class="toc hidden-print hidden-sm hidden-xs"></nav>
				</div>
		</div>
	</div>
	<footer>
				<div class="copyright">Mtools Copyright © 2025 Mikel Paiva</div>
			<div class="generated-by">Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on 18th Feb 2026 using the <a href="https://github.com/steveush/foodoc">FooDoc template</a>.</div>
	</footer>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/clipboard.min.js"></script>
	<script src="js/prism.min.js"></script>
	<script src="js/template.min.js"></script>
		<!-- start:lunr-search-modal.hbs -->
		<div class="modal fade" id="lunr-search-modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Search results</h4>
					</div>
					<div class="modal-body" id="lunr-search-body">
					</div>
					<div class="modal-footer" id="lunr-search-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div>
		<!-- end:lunr-search-modal.hbs -->		<script src="js/lunr.min.js"></script>
	
</body>
</html>