<!-- start:readme.hbs -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
		<title>06_merjent-dev</title>
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
		<link type="text/css" rel="stylesheet" href="css/prism.min.css">
		<link type="text/css" rel="stylesheet" href="css/template.min.css">
		<script type="text/javascript">
			window.TEMPLATE_OPTIONS = {"includeDate":true,"dateFormat":"Do MMM YYYY","systemName":"Merjent Fulcrum Tools","systemSummary":"Version 0.5.5","systemLogo":"","systemColor":"","navMembers":[{"kind":"module","title":"Modules","summary":"All documented modules."},{"kind":"class","title":"Classes","summary":"All documented classes. View inheritance chains in each class description."},{"kind":"external","title":"Externals","summary":"All documented external members."},{"kind":"global","title":"Globals","summary":"All documented globals."},{"kind":"mixin","title":"Mixins","summary":"All documented mixins."},{"kind":"interface","title":"Interfaces","summary":"All documented interfaces."},{"kind":"namespace","title":"Namespaces","summary":"All documented namespaces."},{"kind":"tutorial","title":"Tutorials","summary":"All available tutorials."}],"footer":"","copyright":"Mtools Copyright © 2025 Mikel Paiva","linenums":true,"collapseSymbols":true,"inverseNav":true,"inlineNav":false,"outputSourceFiles":false,"sourceRootPath":null,"disablePackagePath":true,"outputSourcePath":false,"showTableOfContents":true,"showAccessFilter":true,"analytics":null,"methodHeadingReturns":true,"sort":"lineage, longname","search":true,"favicon":null,"stylesheets":[],"scripts":[],"monospaceLinks":false,"cleverLinks":true,"default":{"outputSourceFiles":false}};
			window.DOCLET_TOC_ENABLED = true;
			window.DOCLET_AFILTER_ENABLED = false;
		</script>
</head>
<body>
	<!-- start:navbar.hbs -->
	<header class="navbar navbar-default navbar-fixed-top navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html">
					Merjent Fulcrum Tools
				</a>
				<!-- displayed on small devices -->
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse" id="topNavigation">
				<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Globals<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="global.html#addCoordinatorInitials">addCoordinatorInitials</a></li>
											<li><a href="global.html#addLockEditing">addLockEditing</a></li>
											<li><a href="global.html#addUpdatePermission">addUpdatePermission</a></li>
											<li><a href="global.html#baseLockEditing">baseLockEditing</a></li>
											<li><a href="global.html#baseUpdatePermission">baseUpdatePermission</a></li>
											<li><a href="global.html#DefaultTemplate">DefaultTemplate</a></li>
											<li><a href="global.html#disableNewRecordCreation">disableNewRecordCreation</a></li>
											<li><a href="global.html#enterReportID">enterReportID</a></li>
											<li><a href="global.html#getCompleteLockStatus">getCompleteLockStatus</a></li>
											<li><a href="global.html#getLockStatus">getLockStatus</a></li>
											<li><a href="global.html#getPermissions">getPermissions</a></li>
											<li><a href="global.html#getStatus">getStatus</a></li>
											<li><a href="global.html#limitCaption">limitCaption</a></li>
											<li><a href="global.html#lockEditing">lockEditing</a></li>
											<li><a href="global.html#reportIDprefix">reportIDprefix</a></li>
											<li><a href="global.html#start">start</a></li>
											<li><a href="global.html#updateLock">updateLock</a></li>
											<li><a href="global.html#updatePermission">updatePermission</a></li>
											<li><a href="global.html#updateStatus">updateStatus</a></li>
											<li><a href="global.html#validateAllPhotos">validateAllPhotos</a></li>
											<li><a href="global.html#validatePhoto">validatePhoto</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_class.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="DataEventHelpers.html">DataEventHelpers</a></li>
											<li><a href="FieldHelpers.html">FieldHelpers</a></li>
											<li><a href="FieldHelpers.Mfld.html">FieldHelpers.Mfld</a></li>
											<li><a href="FieldHelpers.MfldColl.html">FieldHelpers.MfldColl</a></li>
											<li><a href="FulcrumHelpers.html">FulcrumHelpers</a></li>
											<li><a href="MerjentApp.html">MerjentApp</a></li>
											<li><a href="MLoadRecords.html">MLoadRecords</a></li>
											<li><a href="PhotoDirHandler.html">PhotoDirHandler</a></li>
											<li><a href="ReportHelpers.html">ReportHelpers</a></li>
											<li><a href="ReportHelpers.SecOpt.html">ReportHelpers.SecOpt</a></li>
											<li><a href="RequestHelpers.html">RequestHelpers</a></li>
											<li><a href="Utils.html">Utils</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_module.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="module-MtoolsDataEvents.html">MtoolsDataEvents</a></li>
											<li><a href="module-MtoolsMerjentApp.html">MtoolsMerjentApp</a></li>
											<li><a href="module-MtoolsReports.html">MtoolsReports</a></li>
											<li><a href="module-MtoolsUtils.html">MtoolsUtils</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_namespace.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="LockingMixins.html">LockingMixins</a></li>
											<li><a href="PermissionMixins.html">PermissionMixins</a></li>
											<li><a href="PhotoMixins.html">PhotoMixins</a></li>
											<li><a href="StatusMixins.html">StatusMixins</a></li>
									</ul>
								</li>
								<li class="dropdown">
									<a href="list_tutorial.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
									<ul class="dropdown-menu">
											<li><a href="tutorial-CHANGELOG.html">CHANGELOG</a></li>
											<li><a href="tutorial-01_overview.html">01_overview</a></li>
											<li><a href="tutorial-02_5_mloadrecords.html">02_5_mloadrecords</a></li>
											<li><a href="tutorial-02_mtools.html">02_mtools</a></li>
											<li><a href="tutorial-03_mapp.html">03_mapp</a></li>
											<li><a href="tutorial-04_pdf-reports.html">04_pdf-reports</a></li>
											<li><a href="tutorial-06_merjent-dev.html">06_merjent-dev</a></li>
											<li><a href="tutorial-07_general-dev.html">07_general-dev</a></li>
									</ul>
								</li>
				</ul>
					<!-- start:lunr-search-navbar.hbs -->
					<form class="navbar-form navbar-right" role="search">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" id="lunr-search-input">
							<div class="input-group-btn">
								<button class="btn btn-default" id="lunr-search-submit">
									<i class="glyphicon glyphicon-search"></i>
								</button>
							</div>
						</div>
					</form>
					<!-- start:lunr-search-navbar.hbs -->		</div>
		</div>
	</header>
	<!-- end:navbar.hbs -->		<div class="page-header">
			<div class="container">
				<span class="kind">tutorial</span>
				<h1><span class="title">06_merjent-dev</span></h1>
			</div>
		</div>
	<div class="container content">
		<div class="row">
			<div class="col-md-9 main-content">
						<ol class="breadcrumb">
							<li><a href="index.html">Home</a></li>
							<li><a href="list_tutorial.html">Tutorials</a></li>
							<li class="active">06_merjent-dev</li>
						</ol>
		<section class="tutorial-section">
			<article><h1>Development Guide</h1>
<h2>Overview</h2>
<p>This guide covers conventions, best practices, and resources for contributing to or extending Merjent Fulcrum Tools.</p>
<hr>
<h2>Naming Conventions</h2>
<h3>Variable Name Abbreviations</h3>
<p>Merjent Fulcrum Tools uses consistent abbreviations to make code more readable without making names too long. The first portion of a variable/function name indicates the type of data it applies to.</p>
<h4>Data Structure Prefixes</h4>
<table>
<thead>
<tr>
<th>Prefix</th>
<th>Meaning</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>arr</code></td>
<td><strong>Array</strong></td>
<td><code>arrSort()</code></td>
<td>Functions that process arrays</td>
</tr>
<tr>
<td><code>str</code></td>
<td><strong>String</strong></td>
<td><code>strAfter()</code></td>
<td>String manipulation functions</td>
</tr>
<tr>
<td><code>dt</code></td>
<td><strong>Date</strong></td>
<td><code>dtAddDays()</code></td>
<td>Date object operations</td>
</tr>
<tr>
<td><code>iso</code></td>
<td><strong>ISO Date String</strong></td>
<td><code>iso2dt()</code></td>
<td>ISO format date strings</td>
</tr>
<tr>
<td><code>rows</code></td>
<td><strong>Array of Objects</strong></td>
<td><code>rows2Sorted()</code></td>
<td>Array of JSON objects/dictionaries</td>
</tr>
<tr>
<td><code>dn</code></td>
<td><strong>data_name</strong></td>
<td><code>dnSubmit</code></td>
<td>Fulcrum field data name (single)</td>
</tr>
<tr>
<td><code>dns</code></td>
<td><strong>data_names</strong></td>
<td><code>dns</code></td>
<td>Array of Fulcrum field data names</td>
</tr>
</tbody>
</table>
<h4>Action Prefixes</h4>
<table>
<thead>
<tr>
<th>Prefix</th>
<th>Meaning</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mk</code>/<code>make</code></td>
<td><strong>Make/Create</strong></td>
<td><code>mkMflds()</code></td>
<td>Returns a new JS object/type</td>
</tr>
<tr>
<td><code>pop</code></td>
<td><strong>Populate</strong></td>
<td><code>popFields()</code></td>
<td>Calls <code>SETVALUE()</code> to populate Fulcrum field</td>
</tr>
<tr>
<td><code>build</code></td>
<td><strong>Build HTML</strong></td>
<td><code>buildDefaultSection()</code></td>
<td>Returns HTML string (ReportHelpers)</td>
</tr>
<tr>
<td><code>rep</code></td>
<td><strong>Repeatable</strong></td>
<td><code>repRequestRecords()</code></td>
<td>Works with Fulcrum repeatables</td>
</tr>
</tbody>
</table>
<h4>Other Common Abbreviations</h4>
<table>
<thead>
<tr>
<th>Abbreviation</th>
<th>Meaning</th>
<th>Context</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exc</code></td>
<td><strong>Exclude</strong></td>
<td>Field data names to exclude from processing</td>
</tr>
<tr>
<td><code>secDn</code></td>
<td><strong>Section Data Name</strong></td>
<td>Section-level field data name</td>
</tr>
<tr>
<td><code>secOpt</code>/<code>secOpts</code></td>
<td><strong>Section Options</strong></td>
<td><code>SecOpt</code> object for section configuration</td>
</tr>
<tr>
<td><code>fld</code>/<code>flds</code></td>
<td><strong>Field(s)</strong></td>
<td>Field or collection of fields</td>
</tr>
<tr>
<td><code>mFlds</code></td>
<td><strong>Merjent Fields</strong></td>
<td><code>MfldColl</code> object</td>
</tr>
</tbody>
</table>
<h3>Examples</h3>
<pre class="prettyprint source lang-javascript"><code>// Array operations
Utils.arrSort([3, 1, 2]);           // Sort array
Utils.arr2Rem([1,2,3], 2);          // Remove from array (non-destructive)
Utils.arrUnique([1,2,2,3]);         // Get unique values

// String operations
Utils.strAfter('prefix_value', '_'); // Get text after delimiter
Utils.strBefore('prefix_value', '_'); // Get text before delimiter
Utils.strProper('john doe');         // Proper case

// Date operations
Utils.dtAddDays(new Date(), 7);     // Add days to date
Utils.dtDaysDiff(date1, date2);     // Days between dates
Utils.iso2dt('2025-01-15');         // ISO string to Date object

// Rows (array of objects)
Utils.rows2Sorted(rows, 'name');    // Sort by property
Utils.rowsFind(rows, 'id', 123);    // Find by property value

// Fulcrum field operations
const dns = FIELDNAMES('section');   // Get field data names
const mFlds = M.mkMflds(dns);       // Make field collection
M.buildDefaultSection(secDn, mFlds); // Build HTML section
</code></pre>
<hr>
<h2>Code Style Guidelines</h2>
<h3>Module Pattern for Fulcrum Code Examples</h3>
<p><strong>IMPORTANT:</strong> When writing code examples for Fulcrum (in tutorials, documentation, or JSDoc comments), always use this module pattern:</p>
<pre class="prettyprint source lang-javascript"><code>//#region !START MERJENT FULCRUM TOOLS!
// ... paste dist file content ...
//#endregion !END MERJENT FULCRUM TOOLS!

// For data events (Mtools only):
const M = module.exports.Mtools

// For data events (with MerjentApp):
const M = module.exports.Mtools
const mApp = module.exports.MerjentApp

// For PDF reports:
const M = module.exports.ReportHelpers
</code></pre>
<p><strong>Key Rules:</strong></p>
<ul>
<li>✅ Use <code>M</code> for Mtools/ReportHelpers (capital M)</li>
<li>✅ Use <code>mApp</code> for MerjentApp (capital A)</li>
<li>❌ Never use <code>mtools</code>, <code>mapp</code> (all lowercase)</li>
<li>❌ Never use <code>new Mtools($form)</code> pattern</li>
<li>Property access must match: <code>M.getVal()</code>, <code>mApp.dnSubmit</code></li>
</ul>
<p>See <code>CLAUDE.md</code> for complete details and examples.</p>
<hr>
<h3>JavaScript</h3>
<h4>Use ES6+ Syntax</h4>
<pre class="prettyprint source lang-javascript"><code>// GOOD: const/let
const M = module.exports.Mtools;
let count = 0;

// AVOID: var
var M = module.exports.Mtools;
</code></pre>
<h4>Use Arrow Functions for Callbacks</h4>
<pre class="prettyprint source lang-javascript"><code>// GOOD
const filtered = dns.filter(dn => dn !== 'exclude_this');

// ACCEPTABLE for multi-line
const filtered = dns.filter(dn => {
  return dn !== 'exclude_this' && dn !== 'exclude_that';
});
</code></pre>
<h4>Use Template Literals</h4>
<pre class="prettyprint source lang-javascript"><code>// GOOD
const message = `Processing ${formName} (${index + 1}/${total})`;

// AVOID
const message = 'Processing ' + formName + ' (' + (index + 1) + '/' + total + ')';
</code></pre>
<h4>Prefer Static Methods for Utils</h4>
<pre class="prettyprint source lang-javascript"><code>// GOOD: Static method
class Utils {
  static isBlank(value) {
    return value == null || value === '';
  }
}

// Access directly (works everywhere)
Utils.isBlank(someValue);

// Note: Utils is a hybrid class - methods are available both statically
// (Utils.methodName) and through Mtools instance (M.methodName)
</code></pre>
<h3>Python</h3>
<h4>Follow PEP 8</h4>
<pre class="prettyprint source lang-python"><code># Good variable names
form_name = form['form']['name']
record_index = context.get('record_index', 0)

# Class names: PascalCase
class UpdateMTools(BaseMToolTool):
    pass

# Function names: snake_case
def apply_search_replace(text, patterns):
    pass
</code></pre>
<h4>Use Type Hints When Appropriate</h4>
<pre class="prettyprint source lang-python"><code>def apply_search_replace(text: str, search_replace_pairs: list, use_regex: bool = False) -> str:
    &quot;&quot;&quot;Apply search and replace operations&quot;&quot;&quot;
    pass
</code></pre>
<h4>Document with Docstrings</h4>
<pre class="prettyprint source lang-python"><code>def handle_app(self, form, template_names, context):
    &quot;&quot;&quot;
    Process one app - update data events and report templates

    Args:
        form: Fulcrum form object
        template_names: List of report template names
        context: Dictionary with search/replace configuration

    Returns:
        List of result dictionaries
    &quot;&quot;&quot;
    pass
</code></pre>
<hr>
<h2>Documentation Standards</h2>
<h3>JSDoc Comments</h3>
<p>All public methods should have JSDoc comments:</p>
<pre class="prettyprint source lang-javascript"><code>/**
 * Calculate days between two dates
 *
 * @param {Date|string} dt1 - Start date
 * @param {Date|string} dt2 - End date
 * @returns {number} Number of days between dates
 * @throws {Error} If dates are invalid
 *
 * @example
 * Utils.dtDaysDiff('2025-01-01', new Date())  // 14
 */
static dtDaysDiff(dt1 = new Date(), dt2 = new Date()) {
  // Implementation
}
</code></pre>
<h3>Comment Structure</h3>
<pre class="prettyprint source lang-javascript"><code>/**
 * Brief one-line description
 *
 * Detailed description if needed. Can span multiple
 * paragraphs and include usage notes.
 *
 * @param {type} paramName - Parameter description
 * @param {type} [optionalParam] - Optional parameter description
 * @returns {type} Return value description
 * @throws {ErrorType} When error occurs
 *
 * @example
 * // Usage example
 * methodName(arg1, arg2)
 */
</code></pre>
<h3>Module Documentation</h3>
<p>Each file should start with a module description:</p>
<pre class="prettyprint source lang-javascript"><code>/**
 * @module Mtools/DataEventHelpers
 * @description Helper methods for Fulcrum data events including
 * weather API integration and fire danger calculations
 */
</code></pre>
<hr>
<h2>Build Process</h2>
<h3>Sibling Dependency: merjent-fulcrum-core</h3>
<p>This project depends on <a href="../merjent-fulcrum-core">merjent-fulcrum-core</a> as a sibling directory:</p>
<pre class="prettyprint source"><code>Fulcrum/
├── merjent-fulcrum-core/    # REQUIRED - shared templates (must exist)
└── merjent-fulcrum-tools/   # This repo
</code></pre>
<p>The build script automatically builds <code>merjent-fulcrum-core</code> first. If it's missing, the build will fail.</p>
<h3>Building JavaScript Modules</h3>
<p>The build process (<code>buildPkg.ps1</code>) performs these steps:</p>
<ol>
<li><strong>Build merjent-fulcrum-core</strong> - Compiles shared templates (runs <code>../merjent-fulcrum-core/build/build.ps1</code>)</li>
<li><strong>Generate ReportTemplateBlocks.js</strong> - Creates template class from <code>html-blocks.json</code></li>
<li><strong>Bundling</strong> - Uses microbundle to create 4 CommonJS modules</li>
<li><strong>Post-processing</strong> - Injects version/timestamp, fixes exports</li>
<li><strong>Minification</strong> - Creates <code>.mmin.js</code> versions with terser (preserves names for debugging)</li>
<li><strong>Documentation</strong> - Generates JSDoc HTML with foodoc template</li>
</ol>
<h3>Build Commands</h3>
<pre class="prettyprint source lang-bash"><code># Full build (Windows)
build.bat

# Direct PowerShell
powershell -ExecutionPolicy Unrestricted -Command .\build\buildPkg.ps1

# Development mode (watch)
npm run dev

# Documentation only
npm run generate-docs
</code></pre>
<h3>Build Configuration</h3>
<h4>microbundle (package.json)</h4>
<pre class="prettyprint source lang-json"><code>{
  &quot;source&quot;: &quot;./src/index_de.js&quot;,
  &quot;main&quot;: &quot;./dist/merjent-tools-de.cjs&quot;,
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;build.bat&quot;,
    &quot;dev&quot;: &quot;microbundle watch&quot;
  }
}
</code></pre>
<h4>terser (package.json)</h4>
<pre class="prettyprint source lang-json"><code>{
  &quot;terser&quot;: {
    &quot;mangle&quot;: {
      &quot;keep_classnames&quot;: true,
      &quot;keep_fnames&quot;: true
    },
    &quot;compress&quot;: false
  }
}
</code></pre>
<p>This preserves class and function names for easier debugging in Fulcrum.</p>
<hr>
<h2>Version Management</h2>
<h3>Version Numbering</h3>
<p>Uses semantic versioning: <code>MAJOR.MINOR.PATCH</code></p>
<ul>
<li><strong>MAJOR</strong> - Breaking changes (e.g., renamed exports, removed methods)</li>
<li><strong>MINOR</strong> - New features, non-breaking changes</li>
<li><strong>PATCH</strong> - Bug fixes</li>
</ul>
<h3>Updating Version</h3>
<ol>
<li>
<p>Edit <code>package.json</code>:</p>
<pre class="prettyprint source lang-json"><code>{
  &quot;version&quot;: &quot;0.5.0&quot;,
  &quot;since&quot;: &quot;2025-11-04T14:55:18Z&quot;
}
</code></pre>
</li>
<li>
<p>Update <code>CHANGELOG.md</code> in <code>tutorials/</code></p>
</li>
<li>
<p>Run build - version is automatically injected into dist files</p>
</li>
</ol>
<h3>Version Markers in Dist Files</h3>
<p>All dist files include version footer:</p>
<pre class="prettyprint source lang-javascript"><code>//#region -- MTools Footer: v0.5.0  2025-11-04T14:55:18Z --
// Module code and exports
//#endregion
</code></pre>
<p>These markers are used by <code>updateMtools.py</code> for targeted updates.</p>
<hr>
<h2>Testing</h2>
<h3>Testing JavaScript Modules</h3>
<p>No automated tests currently exist. Manual testing process:</p>
<ol>
<li><strong>Build</strong> the module</li>
<li><strong>Copy</strong> dist file to a test Fulcrum app</li>
<li><strong>Test</strong> in Fulcrum environment with:
<ul>
<li>Different field types</li>
<li>Edge cases (null values, empty arrays, etc.)</li>
<li>Different user roles (for MApp)</li>
<li>Mobile and desktop views</li>
</ul>
</li>
</ol>
<h3>Testing Python Tools</h3>
<p>Test tools on a <strong>single app</strong> first:</p>
<pre class="prettyprint source lang-python"><code>def handle_app(self, form, template_names, context):
    form_name = form['form']['name']

    # TEST MODE: Only process one app
    if form_name != 'Test App Name':
        return []

    # Your logic here
</code></pre>
<p>Then test on all apps after validation.</p>
<hr>
<h2>Contributing</h2>
<h3>Workflow</h3>
<ol>
<li>
<p><strong>Create feature branch</strong></p>
<pre class="prettyprint source lang-bash"><code>git checkout -b feature/my-new-feature
</code></pre>
</li>
<li>
<p><strong>Make changes</strong> in <code>src/</code> for JavaScript, <code>tools/</code> for Python</p>
</li>
<li>
<p><strong>Build and test</strong></p>
<pre class="prettyprint source lang-bash"><code>build.bat
# Test in Fulcrum
</code></pre>
</li>
<li>
<p><strong>Document</strong> with JSDoc/docstrings</p>
</li>
<li>
<p><strong>Update changelog</strong> in <code>tutorials/CHANGELOG.md</code></p>
</li>
<li>
<p><strong>Commit</strong></p>
<pre class="prettyprint source lang-bash"><code>git add .
git commit -m &quot;Add feature: description&quot;
</code></pre>
</li>
<li>
<p><strong>Push and create pull request</strong></p>
<pre class="prettyprint source lang-bash"><code>git push origin feature/my-new-feature
</code></pre>
</li>
</ol>
<h3>Commit Message Format</h3>
<pre class="prettyprint source"><code>&lt;type>: &lt;subject>

&lt;body>

&lt;footer>
</code></pre>
<p><strong>Types:</strong></p>
<ul>
<li><code>feat:</code> New feature</li>
<li><code>fix:</code> Bug fix</li>
<li><code>docs:</code> Documentation changes</li>
<li><code>refactor:</code> Code refactoring</li>
<li><code>build:</code> Build system changes</li>
<li><code>chore:</code> Maintenance tasks</li>
</ul>
<p><strong>Examples:</strong></p>
<pre class="prettyprint source"><code>feat: Add search/replace to updateMtools.py

- Added command-line arguments for search/replace
- Integrated into update workflow
- Updated documentation

Closes #42
</code></pre>
<hr>
<h2>File Organization</h2>
<h3>JavaScript Source Files</h3>
<pre class="prettyprint source"><code>src/
├── Mtools/                      # Helper classes
│   ├── Utils.js                 # Base utilities
│   ├── FulcrumHelpers.js        # Fulcrum utilities
│   ├── RequestHelpers.js        # API requests
│   ├── DataEventHelpers.js      # Data event specific
│   ├── FieldHelpers.js          # Field manipulation
│   ├── ReportHelpers.js         # PDF reports
│   └── ReportTemplateBlocks.js  # Auto-generated from merjent-fulcrum-core
│
├── mApp/                        # MerjentApp module
│   ├── merjentApp.js            # Main class
│   ├── mixins/                  # Composable behaviors
│   │   ├── PermissionMixins.js
│   │   ├── StatusMixins.js
│   │   ├── PhotoMixins.js
│   │   └── LockingMixins.js
│   └── templates/               # Pre-configured templates
│       └── DefaultTemplate.js
│
├── MtoolsDataEvents.js          # Entry: data events
├── MtoolsMerjentApp.js          # Entry: data events + Mapp
├── MtoolsReports.js             # Entry: reports
└── MtoolsUtils.js               # Entry: standalone utils
</code></pre>
<h3>Python Tool Files</h3>
<pre class="prettyprint source"><code>tools/
├── core/                        # Shared infrastructure
│   ├── fulcrum_client.py        # API client
│   ├── app_looper.py            # Looping logic
│   └── base_tool.py             # Base class
│
├── helpers.py                   # General helpers
├── fulcrum_helpers.py           # Fulcrum-specific helpers
│
├── updateMtools.py              # Update deployment
├── findMtoolFunctions.py        # Search/replace
└── EXAMPLE_*.py                 # Example tools
</code></pre>
<hr>
<h2>Common Development Tasks</h2>
<h3>Adding a New Helper Method</h3>
<ol>
<li>
<p><strong>Add to appropriate class</strong> in <code>src/Mtools/</code></p>
</li>
<li>
<p><strong>Document with JSDoc:</strong></p>
<pre class="prettyprint source lang-javascript"><code>/**
 * Description of what this does
 *
 * @param {type} param - Parameter description
 * @returns {type} Return value
 */
static myNewMethod(param) {
  // Implementation
}
</code></pre>
</li>
<li>
<p><strong>Add instance method wrapper</strong> (for non-static access):</p>
<pre class="prettyprint source lang-javascript"><code>myNewMethod(param) {
  return Utils.myNewMethod(param);
}
</code></pre>
</li>
<li>
<p><strong>Build and test</strong></p>
</li>
<li>
<p><strong>Update changelog</strong></p>
</li>
</ol>
<h3>Adding a New Mixin to MApp</h3>
<ol>
<li>
<p><strong>Create mixin file</strong> in <code>src/mApp/mixins/</code></p>
</li>
<li>
<p><strong>Define mixin object:</strong></p>
<pre class="prettyprint source lang-javascript"><code>export const MyMixins = {
  myMethod() {
    // Use this.getVal(), this.setVal(), etc.
  }
};
</code></pre>
</li>
<li>
<p><strong>Import in <code>merjentApp.js</code>:</strong></p>
<pre class="prettyprint source lang-javascript"><code>import { MyMixins } from './mixins/MyMixins.js';
</code></pre>
</li>
<li>
<p><strong>Assign to class:</strong></p>
<pre class="prettyprint source lang-javascript"><code>Object.assign(MApp.prototype, MyMixins);
</code></pre>
</li>
<li>
<p><strong>Build and test</strong></p>
</li>
</ol>
<h3>Creating a New Python Tool</h3>
<ol>
<li>
<p><strong>Create file</strong> in <code>tools/</code></p>
</li>
<li>
<p><strong>Extend BaseMToolTool:</strong></p>
<pre class="prettyprint source lang-python"><code>from core.base_tool import BaseMToolTool

class MyTool(BaseMToolTool):
    # Implement required methods
</code></pre>
</li>
<li>
<p><strong>Implement methods:</strong></p>
<ul>
<li><code>setup_args()</code> - CLI arguments</li>
<li><code>handle_app()</code> - Process one app</li>
<li><code>print_results()</code> - Display summary</li>
</ul>
</li>
<li>
<p><strong>Add main block:</strong></p>
<pre class="prettyprint source lang-python"><code>if __name__ == '__main__':
    MyTool().run()
</code></pre>
</li>
<li>
<p><strong>Test on single app first</strong></p>
</li>
</ol>
<hr>
<h2>Troubleshooting Development Issues</h2>
<h3>Build fails with module errors</h3>
<p><strong>Cause:</strong> Missing dependencies</p>
<p><strong>Solution:</strong></p>
<pre class="prettyprint source lang-bash"><code>npm install
</code></pre>
<h3>Documentation not generating</h3>
<p><strong>Cause:</strong> JSDoc syntax errors</p>
<p><strong>Solution:</strong></p>
<pre class="prettyprint source lang-bash"><code>npm run generate-docs
# Check console for errors
</code></pre>
<h3>Python tool can't find modules</h3>
<p><strong>Cause:</strong> Not running from tools/ directory</p>
<p><strong>Solution:</strong></p>
<pre class="prettyprint source lang-bash"><code>cd tools
python updateMtools.py
</code></pre>
<h3>Changes not appearing in Fulcrum</h3>
<p><strong>Cause:</strong> Forgot to rebuild</p>
<p><strong>Solution:</strong></p>
<pre class="prettyprint source lang-bash"><code>build.bat
# Then copy NEW dist file to Fulcrum
</code></pre>
<hr>
<h2>Next Steps</h2>
<ul>
<li>Review specific tutorials for detailed usage:
<ul>
<li><a href="./tutorial-01_overview.html">Overview</a></li>
<li><a href="./tutorial-02_mtools.html">Mtools</a></li>
<li><a href="./tutorial-03_mapp.html">MerjentApp</a></li>
<li><a href="./tutorial-04_pdf-reports.html">PDF Reports</a></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Python tools have been moved to <a href="../merjent-fulcrum-pyTools">merjent-fulcrum-pyTools</a></p>
</blockquote>
<ul>
<li>
<p>Check the <a href="./index.html">API documentation</a> for complete method reference</p>
</li>
<li>
<p>Browse the <a href="../src/">source code</a> to see implementation details</p>
</li>
<li>
<p>See <a href="./tutorial-07_general-dev.html">General Development Resources</a> for Fulcrum documentation and standalone Utils usage</p>
</li>
</ul>
<hr>
<h2>Getting Help</h2>
<h3>GitHub Issues</h3>
<ul>
<li><strong><a href="https://github.com/slushmonk3y/merjent-fulcrum-tools/issues/new?labels=bug">Report a Bug</a></strong></li>
<li><strong><a href="https://github.com/slushmonk3y/merjent-fulcrum-tools/issues/new?labels=enhancement">Request a Feature</a></strong></li>
<li><strong><a href="https://github.com/slushmonk3y/merjent-fulcrum-tools/issues/new">Ask a Question</a></strong></li>
</ul>
<h3>Resources</h3>
<ul>
<li>Search existing <a href="https://github.com/slushmonk3y/merjent-fulcrum-tools/issues">issues</a></li>
<li>Check the <a href="./index.html">documentation</a></li>
<li>Review <a href="./tutorial-01_overview.html">tutorials</a></li>
</ul></article>
		</section>
			</div>
				<div class="col-md-3 side-content">
					<nav class="toc hidden-print hidden-sm hidden-xs"></nav>
				</div>
		</div>
	</div>
	<footer>
				<div class="copyright">Mtools Copyright © 2025 Mikel Paiva</div>
			<div class="generated-by">Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on 13th Jan 2026 using the <a href="https://github.com/steveush/foodoc">FooDoc template</a>.</div>
	</footer>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/clipboard.min.js"></script>
	<script src="js/prism.min.js"></script>
	<script src="js/template.min.js"></script>
		<!-- start:lunr-search-modal.hbs -->
		<div class="modal fade" id="lunr-search-modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Search results</h4>
					</div>
					<div class="modal-body" id="lunr-search-body">
					</div>
					<div class="modal-footer" id="lunr-search-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div>
		<!-- end:lunr-search-modal.hbs -->		<script src="js/lunr.min.js"></script>
	
</body>
</html>
<!-- end:readme.hbs -->